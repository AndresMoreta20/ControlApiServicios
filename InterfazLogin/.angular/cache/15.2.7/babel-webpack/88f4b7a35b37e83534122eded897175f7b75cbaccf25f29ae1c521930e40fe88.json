{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/josue/Desktop/Metodologias De Desarrollo/UI - Metodologias/InterfazLogin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LogInComponent = class LogInComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.usuario = \"\";\n    this.password = \"\";\n  }\n  login() {\n    var _this = this;\n    const url = 'https://localhost:5001/Usuario?usuario=' + this.usuario + '&password=' + this.password;\n    this.http.get(url).subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (response) {\n        _this.res = response;\n        // Guardar la respuesta en una variable para su posterior uso\n        _this.res = _this.res[0];\n        //Comparar si las sucursales son iguales\n        if (_this.emisor.Codigo != _this.res.COMPANIA) {\n          console.log(\"El código de la sucursal no coincide. Emisor seleccionado: \", _this.emisor.Codigo, \", la compania es: \", _this.res.COMPANIA);\n          return;\n        }\n        if (_this.res == null) {\n          _this.router.navigate(['']);\n          console.log(\"NO Entra\");\n          return;\n        }\n        if (_this.res.OBSERVACION == \"INGRESO EXITOSO\") {\n          console.log(\"Entra\");\n          // this.router.navigate(['/home']);\n        }\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n  ngOnInit() {\n    this.http.get('https://localhost:5001/Usuario/Emisores').subscribe(response => {\n      this.emisores = response;\n      console.log(\"Emisores: \", this.emisores);\n    });\n  }\n};\nLogInComponent = __decorate([Component({\n  selector: 'app-log-in',\n  templateUrl: './log-in.component.html',\n  styleUrls: ['./log-in.component.css']\n})], LogInComponent);\nexport { LogInComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAQ,eAAe;AASlC,IAAMC,cAAc,GAApB,MAAMA,cAAc;EAOzBC,YAAoBC,IAAgB,EAAUC,MAAc;IAAxC,SAAI,GAAJD,IAAI;IAAsB,WAAM,GAANC,MAAM;IANpD,YAAO,GAAW,EAAE;IACpB,aAAQ,GAAW,EAAE;EAK4C;EAKjEC,KAAK;IAAA;IAGH,MAAMC,GAAG,GAAG,yCAAyC,GAAG,IAAI,CAACC,OAAO,GAAG,YAAY,GAAG,IAAI,CAACC,QAAQ;IAEnG,IAAI,CAACL,IAAI,CAACM,GAAG,CAACH,GAAG,CAAC,CAACI,SAAS;MAAA,6BAAC,WAAOC,QAAQ,EAAI;QAE9C,KAAI,CAACC,GAAG,GAAGD,QAAQ;QACnB;QACA,KAAI,CAACC,GAAG,GAAG,KAAI,CAACA,GAAG,CAAC,CAAC,CAAC;QAEtB;QACA,IAAI,KAAI,CAACC,MAAM,CAACC,MAAM,IAAI,KAAI,CAACF,GAAG,CAACG,QAAQ,EAAE;UAC3CC,OAAO,CAACC,GAAG,CAAC,6DAA6D,EAAE,KAAI,CAACJ,MAAM,CAACC,MAAM,EAAE,oBAAoB,EAAE,KAAI,CAACF,GAAG,CAACG,QAAQ,CAAC;UACvI;;QAGF,IAAI,KAAI,CAACH,GAAG,IAAI,IAAI,EAAE;UACpB,KAAI,CAACR,MAAM,CAACc,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;UAC1BF,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;UACvB;;QAGF,IAAI,KAAI,CAACL,GAAG,CAACO,WAAW,IAAI,iBAAiB,EAAE;UAC7CH,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;UACpB;;MAGJ,CAAC;MAAA;QAAA;MAAA;IAAA,IAAC;EACJ;EAGAG,QAAQ;IACN,IAAI,CAACjB,IAAI,CAACM,GAAG,CAAC,yCAAyC,CAAC,CAACC,SAAS,CAACC,QAAQ,IAAG;MAE5E,IAAI,CAACU,QAAQ,GAAGV,QAAQ;MAExBK,OAAO,CAACC,GAAG,CAAC,YAAY,EAAE,IAAI,CAACI,QAAQ,CAAC;IAC1C,CAAC,CAAC;EACJ;CACD;AApDYpB,cAAc,eAL1BD,SAAS,CAAC;EACTsB,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,GACWvB,cAAc,CAoD1B;SApDYA,cAAc","names":["Component","LogInComponent","constructor","http","router","login","url","usuario","password","get","subscribe","response","res","emisor","Codigo","COMPANIA","console","log","navigate","OBSERVACION","ngOnInit","emisores","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\josue\\Desktop\\Metodologias De Desarrollo\\UI - Metodologias\\InterfazLogin\\src\\app\\log-in\\log-in.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\n//para hacer llamadas a la api\nimport { HttpClient } from '@angular/common/http';\n\n@Component({\n  selector: 'app-log-in',\n  templateUrl: './log-in.component.html',\n  styleUrls: ['./log-in.component.css']\n})\nexport class LogInComponent {\n  usuario: string = \"\";\n  password: string = \"\";\n\n  emisor: any;\n  emisores: any;\n  res: any;\n  constructor(private http: HttpClient, private router: Router,) { };\n\n\n\n\n  login() {\n\n\n    const url = 'https://localhost:5001/Usuario?usuario=' + this.usuario + '&password=' + this.password;\n\n    this.http.get(url).subscribe(async (response) => {\n\n      this.res = response;\n      // Guardar la respuesta en una variable para su posterior uso\n      this.res = this.res[0];\n\n      //Comparar si las sucursales son iguales\n      if (this.emisor.Codigo != this.res.COMPANIA) {\n        console.log(\"El código de la sucursal no coincide. Emisor seleccionado: \", this.emisor.Codigo, \", la compania es: \", this.res.COMPANIA);\n        return;\n      }\n\n      if (this.res == null) {\n        this.router.navigate(['']);\n        console.log(\"NO Entra\");\n        return;\n      }\n\n      if (this.res.OBSERVACION == \"INGRESO EXITOSO\") {\n        console.log(\"Entra\");\n        // this.router.navigate(['/home']);\n      }\n\n    });\n  }\n\n\n  ngOnInit(): void {\n    this.http.get('https://localhost:5001/Usuario/Emisores').subscribe(response => {\n\n      this.emisores = response;\n\n      console.log(\"Emisores: \", this.emisores);\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}